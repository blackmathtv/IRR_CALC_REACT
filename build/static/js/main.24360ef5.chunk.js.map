{"version":3,"sources":["drawData.js","sketch.js","flexgraph.js","graph.js","irr.js","App.js","serviceWorker.js","index.js"],"names":["GetDrawData","console","log","drawData","points","numPoints","pos","neg","spacing","wavePoints","negWavePoints","rectangles","bars","glass","betweenGlass","modFlows","values","drawBoxHeight","drawBoxWidth","allBarValues","drawBarHeights","viewHeightMultiplier","barWidth","barPadX","glassPad","doubleGlassPad","barPosx","barCanvas","value","calcData","modCashFlows","push","sort","a","b","length","barPadx","Math","min","barPosX","getRectangleSVG","key","topLeftPoint","width","height","fill","strokeColor","strokeWidth","radius","x","y","stroke","rx","Sketch","React","useState","path","numBars","textWidth","styles","positiveColor","gray","negativeColor","style","fontSize","round","position","background","top","left","viewBox","heightMultiplier","canvasWidth","toString","display","diff","abs","getValueDisplay","sortedData","label","getTextSVG","padTop","clickPointColor","getPathSVG","color","smoothing","dashSize","controlPoint","current","previous","next","reverse","o","pointA","pointB","lengthX","lengthY","sqrt","pow","angle","atan2","line","PI","cos","sin","command","d","reduce","acc","point","i","strokeDasharray","svgPath","cpsX","cpsY","cpeX","cpeY","sortXYArray","data","xLimit","yLimit","drawFree","range","combinedData","xMin","xMax","yMin","yMax","padLeft","xMultiplier","yMultiplier","set","lastEntry","xAscending","slice","yAscending","drawArray","parseFloat","xDiff","yDiff","pair","xy","getXAxisSVG","textArray","tickArray","middleX","xLine","axisColor","axisLineSize","rulerOffset","xTicks","rulerStep","rulerPosition","fontColor","tickColor","tickLineSize","xName","getYAxisSVG","yLine","yTicks","yName","transform","GraphPoints","circleArray","selectedPoint","setSelectedPoint","hovered","setHovered","pointSize","selectedPointSize","xDraw","yDraw","centerX","centerY","xRadius","yRadius","onClick","mouseOver","mouseExit","cx","cy","ry","onMouseDown","onMouseOut","onMouseOver","GetCircleSvg","xVal","yVal","handlePointClick","getCanvasBounds","parseInt","canvasHeight","LineMarkGraph","canvasPadLeft","canvasPadTop","lineSize","zeroLineColor","zeroLineSize","Paths","plots","Path","plot","XAxis","YAxis","zeroLine","text","getZeroLine","displaySVG","Graph","graphStyles","canvasColor","npvSnap","calcInput","graph","findIRR","window","innerWidth","initialInvest","cashFlows","theNPV","snapGraphX","r","testVar","irr","discountFactor","lightCanvasColor","textColor","innerCashBoxColor","medLightGray","darkGray","irrColor","npvBtnColor","boxRadius","calcPadLeft","calcPadTop","bottomRowPadTop","firstRowHeight","secondRowHeight","calcCanvas","calcTitle","fontWeight","cashFlowBox","borderRadius","innerCashBox","overflowY","overflowX","cashContents","negCashContents","cashInputStyle","border","negCashInputStyle","cashBottom","plusButtonStyle","plusLineStyle","plusBtnContainer","paddingLeft","paddingTop","cashBtmTxt","negInitialInvStyle","marginLeft","lineBreak","minusButtonStyle","minusLineStyle","dRateBox","sliderStyle","cursor","DRateText","DFactorText","sketchBox","NpvStatBox","NPVHeader","textAlign","marginTop","graphBox","InstructionBox","header1","arrow1Style","snapButtonPos","bottom","instructionTitle","fontFamily","instructTextStyle","paddingRight","instructTextCenter","dollSymbol","numSize","numX","numY","App","npvRan","setNpvRan","zeroCashInputStyle","handleCashFlowChange","findNPV","minusButton","splice","x1","y1","x2","y2","path2","path3","arrow","dollColor","contents","placeholder","type","name","onChange","event","target","CashFlowContents","max","step","num","toFixed","Button","padding","variant","unshift","snapNPVBtn","initialInvestValue","npvOut","rDec","npv","flow","powerOf","discountedFlow","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.24360ef5.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\nimport {calcData} from \"./App.js\";\r\n\r\nfunction getRectangleSVG(key, topLeftPoint, width, height, fill, strokeColor, strokeWidth, radius) {\r\n    return(\r\n        <rect \r\n        key={key}\r\n        x={topLeftPoint[0]} y ={topLeftPoint[1]} //array [x,y]\r\n        width = {width} height = {height}\r\n        fill={fill} //string\r\n        stroke={strokeColor} //string\r\n        strokeWidth={strokeWidth} \r\n        rx={radius}\r\n    />\r\n    )\r\n}\r\n\r\nfunction GetDrawData () {\r\n    console.log(\"Ran GetDrawData\");\r\n   \r\n    \r\n    //values Before \r\n    const drawData = {\r\n        points: { \r\n            numPoints: {pos: null, neg: null},\r\n            spacing: {pos: null, neg: null},    \r\n            wavePoints: [],\r\n            negWavePoints: []  \r\n        },\r\n        rectangles: {\r\n            bars: [],\r\n            glass: [],\r\n            betweenGlass: null,\r\n            modFlows: []\r\n        },\r\n        values: {\r\n            drawBoxHeight: 100,\r\n            drawBoxWidth: 200,\r\n            allBarValues: [],\r\n            drawBarHeights: [],\r\n            viewHeightMultiplier: null,\r\n            barWidth: null,\r\n            barPadX: null,\r\n            glassPad: null,\r\n            doubleGlassPad: null,\r\n            barPosx: null,\r\n            barCanvas: null\r\n        }\r\n    }\r\n    \r\n    for (var value in calcData.modCashFlows) {\r\n        if (calcData.modCashFlows[value] >= 0) {\r\n            drawData.values.allBarValues.push(calcData.modCashFlows[value]);\r\n            \r\n        }\r\n        else if (calcData.modCashFlows[value] < 0) {\r\n            drawData.values.allBarValues.push(calcData.modCashFlows[value] * -1);\r\n        }\r\n    }\r\n    drawData.values.allBarValues.sort((a,b) => b-a);\r\n    drawData.values.viewHeightMultiplier = 92/drawData.values.allBarValues[0];\r\n\r\n    \r\n    \r\n    for (var value in calcData.modCashFlows) {\r\n        if (calcData.modCashFlows[value] >= 0) {\r\n            drawData.values.drawBarHeights.push(calcData.modCashFlows[value] * drawData.values.viewHeightMultiplier);\r\n            drawData.points.numPoints.pos +=1;\r\n        }\r\n        if (calcData.modCashFlows[value] < 0) {\r\n            drawData.values.drawBarHeights.push(calcData.modCashFlows[value] * drawData.values.viewHeightMultiplier);\r\n            drawData.points.numPoints.neg +=1;\r\n        } \r\n    }\r\n\r\n    drawData.values.barWidth = (drawData.values.drawBoxWidth / (drawData.values.drawBarHeights.length) / 1.5);\r\n    drawData.values.barPadx = drawData.values.barWidth / 2;\r\n    drawData.values.glassPad = Math.min(drawData.values.barPadx / 4, 2);\r\n    drawData.values.doubleGlassPad = drawData.values.glassPad * 2;\r\n    drawData.rectangles.betweenGlass = drawData.values.barPadx - drawData.values.doubleGlassPad;\r\n    drawData.values.barPosX = (drawData.values.barPadx / 2);\r\n    drawData.values.barCanvas = drawData.values.drawBoxHeight - 4;\r\n\r\n    //push svg data for bars\r\n\r\n\r\n    \r\n\r\n        \r\n    return(drawData);\r\n    \r\n}\r\nexport default GetDrawData;\r\n","import React from 'react';\r\nimport DrawSmooth  from \"./bezierInterp.js\";\r\nimport GetDrawData from \"./drawData.js\"\r\nimport { spring } from 'popmotion';\r\nimport { styles } from './App.js'\r\nimport {calcData} from \"./App.js\";\r\n \r\n\r\n\r\nconst pathSettle = 50;\r\n\r\nlet updateData = true;\r\nlet animDrawData = [];\r\nlet drawData = [];\r\n\r\n\r\n\r\nfunction getRectangleSVG(key, topLeftPoint, width, height, fill, strokeColor, strokeWidth, radius) {\r\n  return(  \r\n      <rect \r\n      key={key}\r\n      x={topLeftPoint[0]} y ={topLeftPoint[1]} //array [x,y]\r\n      width = {width} height = {height}\r\n      fill={fill} //string\r\n      stroke={strokeColor} //string\r\n      strokeWidth={strokeWidth} \r\n      rx={radius}\r\n    />\r\n  \r\n  )\r\n}\r\n\r\nfunction Sketch(){\r\n  console.log(\"Ran Sketch\");  \r\n  \r\n  const [path, setpath] = React.useState();\r\n \r\n  if (updateData){\r\n    drawData = GetDrawData();\r\n    let numBars = drawData.values.drawBarHeights.length;\r\n    let  textWidth = \".5vw\";\r\n    if (numBars >= 4) {\r\n    textWidth = (2/numBars) + \"vw\";\r\n    } \r\n    //push wave points and rectange svg to local drawData\r\n    for (var value in drawData.values.drawBarHeights) {\r\n      let key = value;\r\n      if (drawData.values.drawBarHeights[value] >= 0) {  \r\n          drawData.rectangles.bars.push(getRectangleSVG(key, [drawData.values.barPosX, drawData.values.barCanvas - drawData.values.drawBarHeights[value]], drawData.values.barWidth, drawData.values.drawBarHeights[value], styles.positiveColor));\r\n          drawData.rectangles.glass.push(getRectangleSVG(\"glass\" + key, [drawData.values.barPosX - drawData.values.glassPad, 2], drawData.values.barWidth + drawData.values.doubleGlassPad, 96, \"none\", styles.gray, .3, 1));\r\n          //drawData.points.wavePoints.push([drawData.values.barPosX, drawData.values.barCanvas - drawData.values.drawBarHeights[value]]);\r\n          drawData.points.wavePoints.push([drawData.values.barPosX + drawData.values.barWidth, drawData.values.barCanvas - drawData.values.drawBarHeights[value]]);         \r\n          //drawData.points.negWavePoints.push([drawData.values.barPosX, drawData.values.drawBoxHeight]);\r\n          drawData.points.negWavePoints.push([drawData.values.barPosX + drawData.values.barWidth, drawData.values.drawBoxHeight]);\r\n          \r\n         \r\n      }\r\n      else if (drawData.values.drawBarHeights[value] < 0) {\r\n          drawData.rectangles.bars.push(getRectangleSVG(key, [drawData.values.barPosX, drawData.values.barCanvas - (drawData.values.drawBarHeights[value] * -1)], drawData.values.barWidth, (drawData.values.drawBarHeights[value] * -1), styles.negativeColor));\r\n          drawData.rectangles.glass.push(getRectangleSVG(\"glass\" + key, [drawData.values.barPosX - drawData.values.glassPad, 2], drawData.values.barWidth + drawData.values.doubleGlassPad, 96, \"none\", styles.gray, .3, 1));\r\n\r\n          //drawData.points.negWavePoints.push([drawData.values.barPosX, drawData.values.barCanvas - drawData.values.drawBarHeights[value] * -1]);\r\n          drawData.points.negWavePoints.push([drawData.values.barPosX + drawData.values.barWidth, drawData.values.barCanvas - drawData.values.drawBarHeights[value] * -1]);\r\n          //  drawData.points.wavePoints.push([drawData.values.barPosX, drawData.values.drawBoxHeight]);\r\n          drawData.points.wavePoints.push([drawData.values.barPosX + drawData.values.barWidth, drawData.values.drawBoxHeight]);\r\n          \r\n          \r\n          \r\n      }\r\n \r\n      //drawData.rectangles.modFlows.push(<p style={{position: \"absolute\", left: modPosX + \"%\", fontSize: \"1vw\", background: \"blue\" }}>3</p>);\r\n      drawData.rectangles.modFlows.push(<text key={key + \"modText\"} style={{fontSize: textWidth}} x={drawData.values.barPosX -1} y=\"110\">{Math.round(calcData.modCashFlows[value])}</text>)\r\n      drawData.values.barPosX += (drawData.values.barWidth + drawData.values.barPadx);\r\n    }\r\n\r\n  }\r\n  else {\r\n    drawData = animDrawData;\r\n  }\r\n\r\n  async function runSpring() {    \r\n    for (let point in drawData.points.wavePoints) {\r\n      spring({ from: drawData.points.wavePoints[point][1], to: pathSettle, stiffness: 150, damping: 5 })\r\n          .start(v => {drawData.points.wavePoints[point][1] = v; setpath(DrawSmooth(drawData.points.wavePoints, 1))})\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <svg\r\n        style={{\r\n        position: \"absolute\",\r\n        background: 'none',\r\n        top: \"10%\",\r\n        left: \"5%\",\r\n        width: \"90%\", \r\n        height: \"80%\"\r\n        }}\r\n        viewBox=\"0 0 200 100\"\r\n      >{drawData.rectangles.bars}{drawData.rectangles.modFlows}{drawData.rectangles.glass}{path}\r\n      </svg>\r\n      <div>\r\n      {/* <button name=\"animate\" onClick ={ () => {updateData= false; animDrawData = drawData; runSpring()}}>Animate Waves</button>   */}\r\n      \r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\n//const lineCommand = point => `L ${point[0]} ${point[1]}`\r\n\r\n\r\nexport default Sketch;","import React from 'react';\r\n// import initReactFastclick from 'react-fastclick';\r\n// initReactFastclick();\r\n\r\n//!!!!! YOU NEED TO FIX THE BUG WHERE NO DATA= CRASH\r\n\r\nlet canvasWidth = 80;\r\nlet canvasHeight = 40;\r\nlet heightMultiplier = canvasWidth / canvasHeight;\r\nlet viewBox = \"0 0 100 \" + (100 / heightMultiplier).toString();\r\nlet display = \"\";\r\n\r\nfunction rndNearTenth(num) {\r\n    return Math.round(num * 100) / 100;\r\n}\r\nfunction invertHex(hex) {\r\n    return \"#\" + (Number(`0x1${hex.slice(1)}`) ^ 0xFFFFFF).toString(16).substr(1).toUpperCase()\r\n}\r\n\r\nfunction diff(a, b) { return Math.abs(a - b); }\r\n\r\nexport function getValueDisplay(sortedData, styles) {\r\n\r\n    let label = getTextSVG(\"displaytext\", display, [40, sortedData.padTop * .9 + \"%\"], styles.fontSize, styles.clickPointColor);\r\n    return <svg>{label}</svg>\r\n\r\n}\r\n\r\nexport function getRectangleSVG(key, topLeftPoint, width, height, fill, strokeColor, strokeWidth, radius, mouseDown, mouseOut, mouseOver) {\r\n    return (\r\n        <rect\r\n            key={key}\r\n            x={topLeftPoint[0] + \"%\"} y={topLeftPoint[1] + \"%\"} //array [x,y]\r\n            width={width + \"%\"} height={height + \"%\"}\r\n            fill={fill} //string\r\n            stroke={strokeColor} //string\r\n            strokeWidth={strokeWidth}\r\n            rx={radius}\r\n            onMouseDown={mouseDown}\r\n            onMouseOut={mouseOut}\r\n            onMouseOver={mouseOver}\r\n        />\r\n    )\r\n}\r\n\r\n\r\nexport function GetCircleSvg(key, fill, strokeColor, strokeWidth, centerX, centerY, xRadius, yRadius, onClick, mouseOver, mouseExit) {\r\n\r\n    if (!yRadius) {\r\n        yRadius = xRadius * heightMultiplier;\r\n    }\r\n    else {\r\n        yRadius = yRadius * heightMultiplier;\r\n    }\r\n\r\n    return (\r\n        <ellipse\r\n            key={key}\r\n            cx={centerX + \"%\"} cy={centerY + \"%\"}\r\n            rx={xRadius + \"%\"} ry={yRadius + \"%\"}\r\n            fill={fill}\r\n            stroke={strokeColor} //string\r\n            strokeWidth={strokeWidth}\r\n            onMouseDown={onClick}\r\n            onMouseOut={mouseExit}\r\n            onMouseOver={mouseOver}\r\n\r\n        />\r\n    )\r\n}\r\n\r\nexport function getPathSVG(key, points, color, strokeWidth, smoothing, dashSize, fill) {\r\n    if (!color) {\r\n        color = \"black\";\r\n    }\r\n\r\n    if (!strokeWidth) {\r\n        strokeWidth = .5;\r\n    }\r\n    if (!dashSize) {\r\n        dashSize = 0;\r\n    }\r\n    if (!fill) {\r\n        fill = \"none\"\r\n    }\r\n\r\n    let controlPoint = null;\r\n    //const points = points;\r\n    const svgPath = (points, command) => {\r\n        // build the d attributes by looping over the points\r\n        const d = points.reduce((acc, point, i, a) => i === 0\r\n            // if first point\r\n            ? `M ${point[0]},${point[1] / heightMultiplier}`\r\n            // else\r\n            : `${acc} ${command(point, i, a)}`\r\n            , '')\r\n\r\n        return <path key={key} style={{ position: \"absolute\", width: 7, strokeDasharray: dashSize }} d={d} fill={fill} stroke={color} strokeWidth={strokeWidth} />\r\n    }\r\n\r\n\r\n\r\n    if (smoothing) {\r\n\r\n        const line = (pointA, pointB) => {\r\n            const lengthX = pointB[0] - pointA[0]\r\n            const lengthY = pointB[1] - pointA[1]\r\n            return {\r\n                length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\r\n                angle: Math.atan2(lengthY, lengthX)\r\n            }\r\n        }\r\n        controlPoint = (current, previous, next, reverse) => {\r\n            // When 'current' is the first or last point of the array\r\n            // 'previous' or 'next' don't exist.\r\n            // Replace with 'current'\r\n            const p = previous || current\r\n            const n = next || current\r\n            // The smoothing ratio\r\n\r\n            // Properties of the opposed-line\r\n            const o = line(p, n)\r\n            // If is end-control-point, add PI to the angle to go backward\r\n            const angle = o.angle + (reverse ? Math.PI : 0)\r\n            const length = o.length * smoothing\r\n            // The control point position is relative to the current point\r\n            const x = current[0] + Math.cos(angle) * length\r\n            const y = current[1] + Math.sin(angle) * length\r\n            return [x, y]\r\n        }\r\n    }\r\n    const lineCommand = (point, i, a) => {\r\n        if (smoothing) {\r\n            // start control point\r\n            const [cpsX, cpsY] = controlPoint(a[i - 1], a[i - 2], point);\r\n\r\n            // end control point\r\n            const [cpeX, cpeY] = controlPoint(point, a[i - 1], a[i + 1], true)\r\n            return `C ${cpsX},${cpsY} ${cpeX},${cpeY} ${point[0]},${point[1] / heightMultiplier}`\r\n        }\r\n        else {\r\n            return `L ${point[0]} ${point[1] / heightMultiplier}`\r\n        }\r\n    }\r\n\r\n\r\n    return (svgPath(points, lineCommand));\r\n}\r\n\r\nexport function sortXYArray(data, xLimit, yLimit, drawFree, range) {\r\n\r\n    if (!drawFree) {\r\n        drawFree = false;\r\n    }\r\n    if (!xLimit) {\r\n        xLimit = 80;\r\n\r\n    }\r\n    if (!yLimit) {\r\n        yLimit = 80;\r\n\r\n    }\r\n\r\n    let combinedData = {\r\n        sortedData: [],\r\n        xLimit: xLimit,\r\n        yLimit: yLimit,\r\n        xMin: 0,\r\n        xMax: 100,\r\n        yMin: -1,\r\n        yMax: 1,\r\n        padLeft: 0,\r\n        padTop: 0,\r\n        xMultiplier: 1,\r\n        yMultiplier: 1,\r\n        drawFree: drawFree\r\n\r\n    };\r\n\r\n\r\n    for (let set in data) {\r\n        let lastEntry = data[set].length - 1;\r\n        let sortedData = {\r\n            xAscending: data[set].slice(),\r\n            yAscending: data[set].slice(),\r\n            xMin: 0,\r\n            xMax: 100,\r\n            yMin: -1,\r\n            yMax: 1,\r\n            xLimit: xLimit,\r\n            yLimit: yLimit,\r\n            padLeft: 0,\r\n            padTop: 0,\r\n            xMultiplier: 0,\r\n            yMultiplier: 0,\r\n            drawArray: [],\r\n            color: set,\r\n\r\n        }\r\n\r\n        sortedData.xAscending.sort(function (a, b) {\r\n            return a[0] - b[0];\r\n        })\r\n\r\n        sortedData.yAscending.sort(function (a, b) {\r\n            return a[1] - b[1];\r\n        });\r\n\r\n        //if range hasnt been specified, dynamically create it\r\n        if (!range) {\r\n            sortedData.xMin = parseFloat(sortedData.xAscending[0][0]);\r\n            sortedData.xMax = parseFloat(sortedData.xAscending[lastEntry][0]);\r\n            sortedData.yMin = parseFloat(sortedData.yAscending[0][1]);\r\n            sortedData.yMax = parseFloat(sortedData.yAscending[lastEntry][1]);\r\n\r\n            //if the ranges of the dataset's mins/ maxs exceed the combined data min max, update the combined\r\n            if (sortedData.xMin < combinedData.xMin) {\r\n                combinedData.xMin = sortedData.xMin;\r\n            }\r\n            if (sortedData.xMax > combinedData.xMax) {\r\n                combinedData.xMax = sortedData.xMax;\r\n            }\r\n            if (sortedData.yMin < combinedData.yMin) {\r\n                combinedData.yMin = sortedData.yMin;\r\n            }\r\n            if (sortedData.xMax > combinedData.yMax) {\r\n                combinedData.yMax = sortedData.yMax;\r\n            }\r\n\r\n        }\r\n        else {\r\n            //set the range to specified if it has been specified\r\n            sortedData.xMin = parseFloat(range[0][0]);\r\n            sortedData.xMax = parseFloat(range[1][0]);\r\n            sortedData.yMin = parseFloat(range[0][1]);\r\n            sortedData.yMax = parseFloat(range[1][1]);\r\n            combinedData.xMin = sortedData.xMin;\r\n            combinedData.xMax = sortedData.xMax;\r\n            combinedData.yMin = sortedData.yMin;\r\n            combinedData.yMax = sortedData.yMax;\r\n        }\r\n        //set the default draw percents to 100% of the canvas\r\n\r\n        sortedData.padLeft = (100 - xLimit) / 2;\r\n        sortedData.padTop = (100 - yLimit) / 2;\r\n\r\n        sortedData.xDiff = sortedData.xMax - sortedData.xMin;\r\n        sortedData.yDiff = sortedData.yMax - sortedData.yMin;\r\n\r\n \r\n        if (sortedData.xDiff !== 0) {\r\n            sortedData.xMultiplier = combinedData.xLimit / sortedData.xDiff;\r\n        }\r\n        else {\r\n            sortedData.xMultiplier = 1\r\n        }\r\n\r\n        if (sortedData.yDiff !== 0) {\r\n            sortedData.yMultiplier = sortedData.yLimit / sortedData.yDiff;\r\n\r\n        }\r\n        else {\r\n            sortedData.yMultiplier = 1;\r\n        }\r\n        combinedData.sortedData.push(sortedData);\r\n    };\r\n    //endof for loop\r\n\r\n    combinedData.padLeft = (100 - xLimit) / 2;\r\n    combinedData.padTop = (100 - yLimit) / 2;\r\n    combinedData.xDiff = combinedData.xMax - combinedData.xMin;\r\n    combinedData.yDiff = combinedData.yMax - combinedData.yMin;\r\n\r\n    //if there is no range differnece, make one\r\n    if (combinedData.xDiff < 10) {\r\n        combinedData.xMax += 5;\r\n        combinedData.xMin -= 5;\r\n        combinedData.xDiff += 10;\r\n    }\r\n\r\n    if (combinedData.yDiff < 10) {\r\n        combinedData.yMin -=5\r\n        combinedData.yMax += 5;\r\n        combinedData.yDiff += 10;\r\n    }\r\n\r\n  \r\n        combinedData.xMultiplier = combinedData.xLimit / combinedData.xDiff;\r\n \r\n   \r\n        combinedData.yMultiplier = combinedData.yLimit / combinedData.yDiff;\r\n\r\n \r\n\r\n    if (combinedData.drawFree === false) {\r\n\r\n        for (let set in combinedData.sortedData) {\r\n            let sortedData = combinedData.sortedData[set];\r\n            //push the modified data in xascending order\r\n            for (let pair in sortedData.xAscending) {\r\n                combinedData.sortedData[set].drawArray.push([((sortedData.xAscending[pair][0] - combinedData.xMin) * combinedData.xMultiplier) + combinedData.padLeft, combinedData.yLimit - ((sortedData.xAscending[pair][1] - combinedData.yMin) * combinedData.yMultiplier) + combinedData.padTop]);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        let set = 0\r\n        //data is an object that has keys with the color attribute, use a count instead for set attribute\r\n        for (let i in data) {\r\n            //push the modified data in original order for drawing shapes and stuff            \r\n            for (let pair in data[i]) {\r\n                combinedData.sortedData[set].drawArray.push([((data[i][pair][0] - combinedData.xMin) * combinedData.xMultiplier) + combinedData.padLeft, combinedData.yLimit - ((data[i][pair][1] - combinedData.yMin) * combinedData.yMultiplier) + combinedData.padTop]);\r\n            }\r\n            set += 1;\r\n        }\r\n    }\r\n\r\n    return (combinedData);\r\n\r\n}\r\nexport function getTextSVG(key, display, xy, fontSize, color) {\r\n    if (!xy) {\r\n        xy = [1, 10];\r\n    }\r\n    if (!fontSize) {\r\n        fontSize = 2;\r\n    }\r\n    if (!color) {\r\n        color = \"black\";\r\n    }\r\n\r\n    return (<text key={key} style={{ fontSize: fontSize }} fill={color} x={xy[0]} y={xy[1]}>{display}</text>);\r\n}\r\n\r\nexport function getXAxisSVG(sortedData, styles) {\r\n    let textArray = [];\r\n    let tickArray = [];\r\n\r\n    let middleX = ((100 - sortedData.padLeft) + sortedData.padLeft / 2) / 2;\r\n    let xLine = getPathSVG(\"xLine\", [[sortedData.padLeft, 100 - sortedData.padTop], [100 - sortedData.padLeft, 100 - sortedData.padTop]], styles.axisColor, styles.axisLineSize);\r\n\r\n    let rulerOffset = sortedData.xLimit / styles.xTicks;\r\n    let rulerStep = diff(sortedData.xMin, sortedData.xMax) / styles.xTicks;\r\n    let rulerPosition = sortedData.padLeft;\r\n    for (let i = 0; i <= styles.xTicks; i++) {\r\n        //push ruler values to text array spaced out evenly\r\n        textArray.push(getTextSVG(\"xrulerValue\" + i, Math.round(sortedData.xMin + (rulerStep * i)), [rulerPosition + (rulerOffset * i) + \"%\", 100 - (sortedData.padTop / 2) + \"%\"], styles.fontSize, styles.fontColor));\r\n        if (i >= 1) {\r\n            tickArray.push(getPathSVG(\"xTick\" + i, [[rulerPosition + (rulerOffset * i), 100 - sortedData.padTop], [rulerPosition + (rulerOffset * i), sortedData.padTop]], styles.tickColor, styles.tickLineSize));\r\n\r\n        }\r\n    }\r\n\r\n    textArray.push(getTextSVG(\"xNameText\", styles.xName, [100 - middleX / 2, 100 - (sortedData.padTop * 1.2) + \"%\"], styles.fontSize, styles.fontColor));\r\n\r\n    return (\r\n        <svg  >\r\n            {textArray}\r\n            {tickArray}\r\n            {xLine}\r\n        </svg>\r\n    )\r\n}\r\n//<g transform='rotate(90), translate(10.000000, -55.000000)' ></g>\r\nexport function getYAxisSVG(sortedData, styles) {\r\n    let textArray = [];\r\n    let tickArray = [];\r\n\r\n    let middleX = ((100 - sortedData.padLeft) + sortedData.padLeft / 2) / 2;\r\n    let yLine = getPathSVG(\"yLine\", [[sortedData.padLeft, 100 - sortedData.padTop], [sortedData.padLeft, sortedData.padTop]], styles.axisColor, styles.axisLineSize);\r\n\r\n    let rulerOffset = sortedData.yLimit / styles.yTicks; //the offset for thephysical position on the canvas\r\n    let rulerStep = diff(sortedData.yMin, sortedData.yMax) / styles.yTicks; //the value offset \r\n    let rulerPosition = 100 - sortedData.padTop;\r\n    for (let i = 0; i <= styles.yTicks; i++) {\r\n        //push ruler values to text array spaced out evenly\r\n        textArray.push(getTextSVG(\"yrulervalue\" + i, Math.round(sortedData.yMin + (rulerStep * i)), [(sortedData.padLeft / 2) + \"%\", rulerPosition - (rulerOffset * i) + \"%\"], styles.fontSize, styles.fontColor));\r\n        if (i >= 1) {\r\n            tickArray.push(getPathSVG(\"ytickline\" + i, [[sortedData.padLeft, rulerPosition - (rulerOffset * i)], [100 - sortedData.padLeft, rulerPosition - (rulerOffset * i)]], styles.tickColor, styles.tickLineSize));\r\n        }\r\n    }\r\n    console.log(sortedData);\r\n\r\n    let label = getTextSVG(\"ylabeltext\", styles.yName, [(-middleX / 2) / heightMultiplier, sortedData.padLeft * 1.3], styles.fontSize, styles.fontColor);\r\n\r\n    return (\r\n        <svg>\r\n            <g transform='rotate(-90)' >{label}</g>\r\n            {textArray}\r\n            {tickArray}\r\n            {yLine}\r\n        </svg>\r\n    )\r\n}\r\nexport function getZeroLine(sortedData, styles) {\r\n\r\n    if (sortedData.yMin < 0 && sortedData.yMax > 0) {\r\n        let y = sortedData.yLimit - ((0 - sortedData.yMin) * sortedData.yMultiplier) + sortedData.padTop;\r\n        let range = [[], []];\r\n        range = [[sortedData.padLeft, y], [100 - sortedData.padLeft, y]];\r\n        let path = getPathSVG(\"zeroline\", range, styles.zeroLineColor, styles.zeroLineSize, false, .8);\r\n        let text = getTextSVG(\"0LineMark\", \"0\", [100 - sortedData.padLeft / 1.2, y + \"%\"], styles.fontSize, styles.zeroLineColor)\r\n        return (\r\n            <svg>\r\n                {text}\r\n                {path}\r\n            </svg>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\n//plot scatter plot points with sorted data and styles\r\n\r\n\r\nexport function GraphPoints(key, sortedData, styles) {\r\n    let circleArray = [];\r\n\r\n    const [selectedPoint, setSelectedPoint] = React.useState([]);\r\n    const [hovered, setHovered] = React.useState([]);\r\n\r\n    function handlePointClick(set, pair) {\r\n\r\n        let xVal = sortedData[set].xAscending[pair][0];\r\n        let yVal = sortedData[set].xAscending[pair][1];\r\n        display = styles.xName + \": \" + xVal + \" \" + styles.yName + \": \" + yVal;\r\n        setSelectedPoint([set, pair]);\r\n\r\n    }\r\n    \r\n    for (let set in sortedData) {\r\n        for (let pair in sortedData[set].drawArray) {\r\n            let color = sortedData[set].color;\r\n            let radius = styles.pointSize;\r\n\r\n            if (set === selectedPoint[0] && pair === selectedPoint[1]) {\r\n                color = styles.clickPointColor;\r\n                radius = styles.selectedPointSize;\r\n            }\r\n            if (set === hovered[0] && pair === hovered[1]) {\r\n                radius = styles.selectedPointSize;\r\n            }\r\n\r\n            let xDraw = sortedData[set].drawArray[pair][0];\r\n\r\n            let yDraw = sortedData[set].drawArray[pair][1];\r\n            let mouseOver = () => setHovered([set, pair]);\r\n            let mouseExit = () => setHovered([]);\r\n            let mouseDown = () => { handlePointClick(set, pair) };\r\n            circleArray.push(GetCircleSvg(key + pair + set, color, \"none\", \"none\", xDraw, yDraw, radius, radius, mouseDown, mouseOver, mouseExit));\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    return (circleArray);\r\n}\r\nexport function getBoxAxis(sortedData, styles) {\r\n    let width = 100 - (sortedData.padLeft * 2);\r\n    let height = 100 - (sortedData.padTop * 2);\r\n    let box = getRectangleSVG(\"boxAxis\", [sortedData.padLeft, sortedData.padTop], width, height, \"none\", styles.boxAxisColor, styles.axisLineSize, styles.boxRadius)\r\n    let XAxis = getXAxisSVG(sortedData, styles);\r\n    let YAxis = getYAxisSVG(sortedData, styles);\r\n\r\n    return (\r\n        <g>\r\n            {YAxis}{XAxis}{box}\r\n        </g>\r\n    )\r\n}\r\nexport function getCanvasBounds(styles) {\r\n    heightMultiplier = parseInt(styles.canvasWidth) / parseInt(styles.canvasHeight);\r\n    viewBox = \"0 0 100 \" + (100 / heightMultiplier).toString();\r\n}\r\n\r\nexport function LineMarkGraph(data, styles) {\r\n\r\n    let defaults = {\r\n        canvasWidth: \"40vw\",\r\n        canvasHeight: \"40vw\",\r\n        canvasPadLeft: \"1vw\",\r\n        canvasPadTop: \"1vw\",\r\n        lineSize: .2,\r\n        fontSize: 2,\r\n        fontColor: \"#7BA7F0\",\r\n        axisColor: \"#7BA7F0\",\r\n        axisLineSize: .2,\r\n        xTicks: 4,\r\n        yTicks: 4,\r\n        tickColor: \"#E8E8E8\t\",\r\n        tickLineSize: .1,\r\n        clickPointColor: \"#C18FE4\",\r\n        pointSize: 1,\r\n        selectedPointSize: 2,\r\n        xName: \"X-axis\",\r\n        yName: \"Y-axis\",\r\n        zeroLineColor: \"#FFAAAA\",\r\n        zeroLineSize: .3,\r\n        background: \"none\",\r\n    }\r\n\r\n\r\n       \r\n\r\n    //load default data if none present\r\n    if (!data) {\r\n        data = {\r\n            \"#75B8A0\": [[-50, 0], [100, 200], [140, -10], [60, 20], [90, 90]],\r\n            \"#DCDCAA\": [[-25, 160], [115, 91]]\r\n        };\r\n    }\r\n\r\n    if (!styles) {\r\n        //styles = defaults;\r\n        styles = defaults;\r\n    }\r\n    //apply canvas size in styles to global canvas\r\n    getCanvasBounds(styles);\r\n\r\n\r\n    let Paths = [];\r\n    let plots = [];\r\n\r\n\r\n\r\n    //aSquare = getRectangleSVG(\"sq\", [0,0], 100, 20, \"red\");\r\n    //let aCircle = GetCircleSvg(\"circ\", \"blue\", \"none\", \"none\", 90, 90, 1,  );\r\n    \r\n    let combinedData = sortXYArray(data, 80, 80);\r\n    let sortedData = combinedData.sortedData;\r\n    for (let set in sortedData) {\r\n\r\n        let Path = getPathSVG(\"graphPath\" + set, sortedData[set].drawArray, sortedData[set].color, styles.lineSize);\r\n        Paths.push(Path);\r\n\r\n\r\n    }\r\n\r\n    let plot = GraphPoints(\"pointsarray\", sortedData, styles);\r\n    plots.push(plot);\r\n    let XAxis = getXAxisSVG(combinedData, styles);\r\n    let YAxis = getYAxisSVG(combinedData, styles);\r\n    let zeroLine = getZeroLine(combinedData, styles);\r\n\r\n    let displaySVG = getValueDisplay(combinedData, styles);\r\n    \r\n    return (\r\n        <div style={{ position: \"absolute\", top: styles.canvasPadTop, left: styles.canvasPadLeft, width: styles.canvasWidth, height: styles.canvasHeight }}>\r\n            <svg style={{ background: styles.background }} viewBox={viewBox}>\r\n                {zeroLine}{XAxis}{YAxis}{Paths}{plots}{displaySVG}\r\n            </svg>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\n\r\n\r\nexport function DrawShapesGraph(data, styles) {\r\n  \r\n\r\n    let defaults = {\r\n        canvasWidth: \"40vw\",\r\n        canvasHeight: \"40vw\",\r\n        canvasPadLeft: 0,\r\n        canvasPadTop: 0,\r\n        lineSize: .2,\r\n        fontSize: 2,\r\n        fontColor: \"#7BA7F0\",\r\n        axisColor: \"none\",\r\n        boxAxisColor: \"#7BA7F0\",\r\n        boxRadius: .5,\r\n        axisLineSize: .2,\r\n        xTicks: 1,\r\n        yTicks: 5,\r\n        tickColor: \"#E8E8E8\t\",\r\n        tickLineSize: .1,\r\n        clickPointColor: \"#C18FE4\",\r\n        pointSize: 1,\r\n        selectedPointSize: 2,\r\n        xName: \"\",\r\n        yName: \"thangz\",\r\n        zeroLineSize: .3,\r\n        background: \"none\",\r\n\r\n    }\r\n\r\n    //load default data if none present\r\n    if (!data) {\r\n        data = {\r\n            \"#DCDCAA\": [[99, 1], [99, 55], [75, 55], [50, 55], [25, 55], [1, 55], [1, 1]],\r\n            \"#75B8A0\": [[99, 1], [99, 30], [75, 25], [50, 30], [25, 30], [1, 30], [1, 1]]\r\n        };\r\n    }\r\n\r\n    if (!styles) {\r\n        styles = defaults;\r\n    }\r\n    getCanvasBounds(styles);\r\n\r\n    let Paths = [];\r\n    \r\n    let combinedData = sortXYArray(data, 80, 80, true, [[0, 0], [100, 100]]);\r\n    let sortedData = combinedData.sortedData;\r\n    for (let set in sortedData) {\r\n\r\n        let Path = getPathSVG(\"graphPath\" + set, sortedData[set].drawArray, sortedData[set].color, styles.lineSize, 0, 0, sortedData[set].color);\r\n        Paths.push(Path);\r\n\r\n\r\n    }\r\n\r\n    let displaySVG = getValueDisplay(combinedData, styles);\r\n    let boxAxis = getBoxAxis(combinedData, styles);\r\n\r\n    return (\r\n        <div style={{ position: \"absolute\", left: styles.canvasPadLeft, top: styles.canvasPadTop, width: styles.canvasWidth, height: styles.canvasHeight }}>\r\n            <svg style={{ background: styles.background }} viewBox={viewBox}>\r\n                {boxAxis}{Paths}{displaySVG}\r\n            </svg>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n//a blank object is getting passed to the first two params for some reason this is a placeholder import as objects\r\nfunction FlexGraph(props, props2, data, styles) {\r\n\r\n    return (LineMarkGraph(data, styles));\r\n}\r\n\r\n\r\nexport default FlexGraph;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport '../node_modules/react-vis/dist/style.css';\r\nimport {styles} from './App.js';\r\nimport {calcData} from \"./App.js\";\r\nimport {LineMarkGraph} from './flexgraph.js'\r\n\r\n\r\n\r\n\r\n\r\nfunction Graph()  {\r\n  let graphStyles = {\r\n    canvasWidth: \"36vw\",\r\n    canvasHeight: \"15vw\",\r\n    canvasPadLeft: \"0\",\r\n    canvasPadTop: \"1vw\",\r\n    lineSize: .2,\r\n    fontSize: 2,\r\n    fontColor: styles.gray,\r\n    axisColor: styles.canvasColor,\r\n    axisLineSize: .3,\r\n    xTicks: 4,\r\n    yTicks: 4,\r\n    tickColor: \"#E8E8E8\t\",\r\n    tickLineSize: .1,\r\n    clickPointColor: \"#C18FE4\",\r\n    pointSize: 1,\r\n    selectedPointSize: 2,\r\n    xName: \"DISCOUNT RATE\",\r\n    yName: \"NPV\",\r\n    zeroLineColor: \"#FFAAAA\",\r\n    zeroLineSize: .3,\r\n    background: \"none\",\r\n  }\r\n\r\n  console.log(calcData.npvSnap);\r\n  let calcInput = [[0,0]];\r\n  if (calcData.npvSnap != 0) {\r\n    calcInput = calcData.npvSnap\r\n  }\r\n\r\n\r\n  let data = {\r\n    \"#47C4C1\": calcInput\r\n  };\r\n\r\n\r\n// let styles = [];\r\nlet graph = LineMarkGraph(data, graphStyles);\r\n    \r\n//<FlexibleXYPlot margin={{left: 0, right: 0, top: 0, bottom: 0}}>    \r\n    return (\r\n      <div>\r\n       {graph}\r\n      </div>\r\n    );\r\n  \r\n}\r\n\r\nexport default Graph;","  \r\nfunction findIRR(cashFlows, initialInv) {\r\n  \r\n    const maxTries = 1000;\r\n    let delta = 1;\r\n    \r\n    let guess = 50;\r\n    const multiplier = NPV(cashFlows, guess, initialInv) > 0 ? 1 : -1;\r\n    let i = 0;\r\n\r\n    function NPV(cashFlows, r, initialInv) {\r\n        let npvOut = null;\r\n        let rDec = r/100;\r\n        let npv = null;\r\n        \r\n        //reset modded cash flows\r\n        for (let flow in cashFlows) {\r\n            let powerOf=parseInt(flow) +  1;\r\n            let discountedFlow = cashFlows[flow] / Math.pow(1 + rDec,  powerOf);\r\n            npv += discountedFlow;\r\n        }\r\n        npvOut = (npv - initialInv);\r\n        return (npvOut);\r\n    }\r\n    \r\n    while ( i < maxTries ) {\r\n       \r\n        \r\n        const guessedNPV = NPV(cashFlows, guess ,initialInv);\r\n        console.log(\"try#  \" + i)\r\n        console.log(\"multiplier \" + multiplier); \r\n        console.log(\"guess \" + guess);\r\n        console.log(\"guessed npv\" + guessedNPV);\r\n        console.log(\"delta \" + delta);\r\n        let multipliedNPV = guessedNPV * multiplier\r\n        if (multipliedNPV > 0) {\r\n            //add the delta, change the size of the guess exponentially depending on how far away it si from zero\r\n            if (delta > .01) {\r\n                delta = Math.pow(multipliedNPV * .01, 2);\r\n            }\r\n            guess += (multiplier * delta);\r\n            i += 1;\r\n        }\r\n        //break if NPV crosses zero\r\n        else break;   \r\n    }\r\n    return [i === maxTries ? \"irr has divergerged\" : guess, i];\r\n    // return (NPV(cashFlows, 0, initialInv));\r\n}\r\n   \r\n\r\nexport default findIRR;","import React from 'react';\nimport Sketch from './sketch'\nimport './App.css';\nimport Graph from './graph.js';\nimport findIRR from './irr.js';\nimport GetDrawData from \"./drawData.js\";\nimport Button from '@material-ui/core/Button';\nimport {getPathSVG} from \"./flexgraph.js\";\nexport var modCashFlows = [];\n\n\n\n\n\n\nlet canvasWidth = window.innerWidth * .9;\nlet canvasHeight = canvasWidth/2.32;\nlet loggedNPVs = [];\n\n\nexport let calcData = {\n  initialInvest: 0,\n  cashFlows: [0],\n  modCashFlows: [],\n  theNPV: 0,\n  npvSnap: [],\n  snapGraphX: 0,\n  r: 50,\n  testVar: 0,\n  irr: null,\n  discountFactor: .67\n};\nexport let styles = {\n  canvasWidth: canvasWidth,\n  canvasHeight: canvasHeight,\n  canvasColor: \"#E9E9E9\",\n  lightCanvasColor: \"#FFFFFF\",\n  textColor: \"#000000\",\n  innerCashBoxColor: \"#FBFBFB\",\n  medLightGray: \"#D8D8D8\",\n  negativeColor: \"#F50057\",\n  positiveColor: \"#27293E\",\n  darkGray: \"#3A3A3A\",\n  gray: \"#8C8E8E\",\n  irrColor: \"#53DD6C\",\n  npvBtnColor: \"#57A773\",\n  boxRadius: \".5vw\",\n  calcPadLeft: \"8%\",\n  calcPadTop: \"10%\",\n  bottomRowPadTop: \"59%\",\n  firstRowHeight: \"44.5%\",\n  secondRowHeight: \"34%\"\n}\n\nfunction rndNearTenth(num) {\n  return (Math.round(num * 100) / 100).toFixed(2);\n}\n\n\nconst calcCanvas = {\n  position: \"absolute\",\n  left: \"13%\",\n  top: \"0%\",\n  \n  background: styles.canvasColor,\n  height: \"50vw\",\n  width: \"74vw\",\n}\n\nconst calcTitle = {\n  position: \"absolute\",\n  fontWeight: \"bold\",\n  fontSize: \"1.4vw\",\n  left: styles.calcPadLeft,\n  top: parseInt(styles.calcPadTop) -8 + \"%\",\n}\n//..........CASHBOX......//\n\nconst cashFlowBox = {\n  position: \"absolute\",\n  top: styles.calcPadTop,\n  left: styles.calcPadLeft, \n  background: styles.lightCanvasColor,\n  height: \"30%\",\n  width: \"18%\",\n  borderRadius: \".5vw\"\n}\nconst innerCashBox = {\n  position: \"absolute\",\n  top: \"13%\", \n  background: styles.innerCashBoxColor,\n  height: \"76%\",\n  width: \"100%\",\n  overflowY: \"scroll\",\n  overflowX: \"auto\"\n  //fontWeight: \"800\"\n}\n\nconst cashContents = { \n  fontSize: \"2vw\",\n  width: \"100%\",\n  height:\"2.6vw\",\n  color: styles.positiveColor\n}\nconst negCashContents = { \n  fontSize: \"2vw\",\n  width: \"100%\",\n  height:\"2.6vw\",\n  color: styles.negativeColor\n}\nconst cashInputStyle = {\n  position: \"absolute\",\n  background: \"none\",\n  width: \"57%\",\n  height: \"22%\",\n  left: \"27%\",\n  fontSize: \"1.8vw\",\n  border: \"none\",\n  color: styles.positiveColor\n}\n\nconst negCashInputStyle = {\n  position: \"absolute\",\n  background: \"none\",\n  width: \"57%\",\n  height: \"22%\",\n  left: \"27%\",\n  fontSize: \"1.8vw\",\n  border: \"none\",\n  color: styles.negativeColor\n}\nconst cashBottom= {\n  position: \"absolute\",\n  top: \"88%\",\n  left: \"0%\",\n  width: \"100%\",\n  height: \"12%\",\n  background: \"none\",\n  fontWeight: \"500\",\n  fontSize: \".9vw\",\n  color: styles.darkGray\n}\nconst plusButtonStyle = {\n \n  fill: styles.innerCashBoxColor,\n  color: styles.darkGray,\n  stroke: styles.darkGray,\n  strokeWidth: \"5%\"\n}\nconst plusLineStyle = {\n  stroke: styles.darkGray,\n  strokeWidth: \"5%\"\n}\nconst plusBtnContainer= {\n  position: \"absolute\",\n  paddingLeft: \"70%\",\n  paddingTop: \"3%\"\n}\nconst cashBtmTxt = {\n  position: \"absolute\",\n  top: \"87%\",\n  left: \"29%\",\n  fontSize: \".7vw\",\n  fontWeight: \"medium\"\n \n}\nconst negInitialInvStyle = { \n  fontSize: \"2vw\",\n  width: \"auto\",\n  height:\"2.6vw\",\n  marginLeft: \"15%\",\n  color: styles.negativeColor,\n \n\n}\n\nconst lineBreak = {\n    background: \"#F0F0F0\",\n    height: \"1px\",\n    left: \"15%\",\n    width: \"75%\",\n    position: \"absolute\"\n}\nconst minusButtonStyle = {\n \n  fill: styles.innerCashBoxColor,\n  color: styles.medLightGray,\n  stroke: styles.medLightGray,\n  strokeWidth: \"8%\"\n}\nconst minusLineStyle = {\n  stroke: styles.medLightGray,\n  strokeWidth: \"8%\"\n}\n\n//.....DISCOUNT RATE BOX.........\n\nconst dRateBox = {\n  position: \"absolute\",\n  top: parseInt(styles.calcPadTop) + 32.5 + \"%\",\n  left: styles.calcPadLeft, \n  background: styles.lightCanvasColor,\n  height: \"12%\",\n  width: cashFlowBox.width,\n  borderRadius: styles.boxRadius\n}\nconst sliderStyle = {\n  position: \"absolute\",\n  top: \"60%\",\n  left: \"11%\",\n  background: \"styles.canvasColor\",\n  cursor: \"pointer\",\n  width: \"75%\"\n}\nconst DRateText = {\n  position: \"absolute\",\n  fontWeight: \"bold\",\n  fontSize: \".8vw\",\n  left: \"13%\"\n}\nconst DFactorText = {\n  position: \"absolute\",\n  fontWeight: \"bold\",\n  fontSize: \".8vw\",\n  left: \"13%\",\n  top: \"20%\"\n}\n//.......SKETCHBOX...........\nconst sketchBox = {\n  position: \"absolute\",\n  top: styles.calcPadTop,\n  left: \"29%\", \n  background: styles.lightCanvasColor,\n  height: styles.firstRowHeight,\n  width: \"41%\",\n  borderRadius: styles.boxRadius\n}\n\n//.....NpvStatBOX.....\n\nconst NpvStatBox = {\n  position: \"absolute\",\n  top: styles.calcPadTop,\n  left: \"73%\", \n  background: styles.lightCanvasColor,\n  height: styles.firstRowHeight,\n  width: \"18.5%\",\n  borderRadius: styles.boxRadius\n}\n\n// const innerNpvStatBox = {\n//   position: \"absolute\",\n//   top: \"65%\", \n//   background: styles.innerCashBoxColor,\n//   height: \"15%\",\n//   width: \"100%\",\n//   overflowY: \"scroll\",\n//   overflowX: \"auto\"\n//   //fontWeight: \"800\"\n// }\n\n\nconst NPVHeader = {\n\n  position: \"relative\",\n  fontWeight: \"medium\",\n  fontSize: \"1.8vw\",\n  top: 0,\n  color: styles.gray,\n  textAlign: \"center\",\n  marginTop: 0\n  \n\n}\n// const histListContents = { \n//   paddingTop: 0,\n//   width: \"100%\",\n//   height:\"30%\",\n//   color: styles.negativeColor\n// }\n\n//......GRAPH BOX.......\n\nconst graphBox = {\n  position: \"absolute\",\n  top: styles.bottomRowPadTop,\n  left: \"44%\", \n  background: styles.lightCanvasColor,\n  height: styles.secondRowHeight,\n  width: \"47.5%\",\n  borderRadius: styles.boxRadius\n}\n\nconst InstructionBox = {\n  position: \"absolute\",\n  top: styles.bottomRowPadTop,\n  left: styles.calcPadLeft, \n  background: '#FAEFC5',\n  height: styles.secondRowHeight,\n  width: \"32.5%\",\n  borderRadius: styles.boxRadius\n}\n\n\nconst header1 = {\n  fontWeight: \"bold\",\n  fontSize: \".8vw\",\n  textAlign: \"center\"\n}\n\n\nconst header3 = {\n  fontWeight: \"bold\",\n  fontSize: \"1.2vw\",\n  textAlign: \"center\"\n}\n\n\nconst arrow1Style = {\n  position: \"relative\",\n  paddingLeft: \"27%\",\n  paddingTop: \"20%\"\n}\nconst arrow2Style = {\n  position: \"relative\",\n  paddingLeft: \"27%\",\n  paddingTop: \"0%\"\n}\n\nconst arrow3Style = {\n  position: \"relative\",\n  paddingLeft: \"27%\",\n  paddingTop: \"20%\"\n}\n\n\n\nconst snapButtonPos = {\n  position: \"absolute\",\n  bottom: \"15%\",\n  left: \"17%\"\n}\nconst histTitle = {\n  position: \"absolute\",\n  fontSize: \"1vw\",\n  bottom: \"33%\",\n  left: \"8%\",\n}\n\nconst histTitle2 = {\n  position: \"absolute\",\n  fontSize: \"1vw\",\n  bottom: \"33%\",\n  right: \"16%\",\n}\nconst instructionTitle = {\n  fontSize: \"1.1vw\",\n  fontFamily: 'Montserrat',\n  textAlign: \"center\",\n  fontWeight: \"bold\"\n}\nconst instructTextStyle = {\n  fontSize: \".6vw\",\n  fontFamily: 'Montserrat',\n  paddingLeft: \"5%\",\n  paddingRight: \"5%\",\n  fontWeight: \"regular\"\n}\nconst instructTextCenter = {\n  fontSize: \".7vw\",\n  paddingLeft: \"5%\",\n  paddingRight: \"5%\",\n  textAlign: \"center\",\n  fontWeight: \"bold\"\n}\nfunction instructionText() {\n  return(\n    <div>\n      <p style={instructionTitle}>INSTRUCTIONS</p>\n      <p style = {instructTextStyle}>1. Enter as many cash flow periods as you'd like. The # inside the dollar sign represents the # of periods in the future where: </p>\n     <p style = {instructTextCenter}>{dollSymbol(0, \"black\")} = dollars in Period 0 (present day) </p>\n    </div>\n  )\n}\n\nfunction dollSymbol(value, color) {\n  let numSize = .6; \n  let numX = \"39%\";\n  let numY = \"86%\";\n  if (value > 9) {\n    numSize= .5;\n    numX = \"31%\"\n    numY = \"85%\"\n  }\n \n  return(\n    \n    <svg style={{position: \"absolute\", background: \"none\"}} height=\"2.6vw\" width=\"1.5vw\" >\n      <text style={{fontSize: \"2vw\", fontWeight: \"400\", fill: color}} x=\"8%\" y=\"75%\">$</text>\n      <circle style={{fill: color}} cx=\"52%\" cy=\"78%\" r=\"18%\"/>\n      <text style={{fontSize: numSize + \"vw\", fontWeight: \"700\", fill: styles.innerCashBoxColor}} x={numX} y={numY}>{value}</text>\n    </svg>\n    \n  ) \n}\n\nfunction arrow() {\n  let path = getPathSVG(\"drawArrow\", [[0,0], [0,6], [1.5,3]], \"none\", 0, 0, 0, \"black\")\n  let path2 = getPathSVG(\"drawArrow\", [[60,0], [60,6], [61.5,3]], \"none\", 0, 0, 0, \"black\")\n  let path3 = getPathSVG(\"drawArrow\", [[74,49], [77.5,49], [75.75,52]], \"none\", 0, 0, 0, \"black\")\n  let viewBox = \"0 0 100 100\";\n  return ( <svg viewBox = {viewBox} >{path}{path2}{path3}</svg>)\n  \n};\n\n\n\nfunction App() {\n\n\n\n//hook that makes sure dom is rerendered if a button is clicked, even if theNpv hasn't changed\nconst [npvRan, setNpvRan] = React.useState(0);\ncalcData.testVar = npvRan;\n//console.log( \"irr \" + findIRR([100], 100));\nlet zeroCashInputStyle = {\n  \n  position: \"absolute\",\n  background: \"none\",\n  width: \"80%\",\n  height: \"22%\",\n  fontSize: \".8vw\",\n  border: \"none\",\n  color: styles.negativeColor\n}\nfunction handleCashFlowChange() {\n  findNPV(calcData.cashFlows, calcData.r, calcData.initialInvest);\n  calcData.npvSnap = [];      \n  loggedNPVs = [];\n}\nfunction minusButton(value) {\n  return(\n      <svg height=\"1.2vw\" width=\"2vw\" onClick= {() => {calcData.cashFlows.splice(value,1); handleCashFlowChange()} } >\n  \n        <circle style={minusButtonStyle} cx=\"56%\" cy=\"50%\" r=\"32%\"/>\n        <line style={minusLineStyle} x1=\"44%\" y1=\"50%\" x2=\"67%\" y2=\"50%\"/>    \n      </svg>\n  )\n}\n\nfunction autoButton() {\n  return (\n    <div>\n      <button onClick= {() => {calcData.irr = Math.round((findIRR(calcData.cashFlows, calcData.initialInvest)[0]) * 100) / 100; setNpvRan(npvRan + 1) }}>AUTO IRR</button>\n      <p>irr:{calcData.irr}</p>\n    </div>\n    )\n}\n \nfunction cashFlowPlusBtn() {\n  return(\n    <svg height=\"1.3vw\" width=\"1.3vw\" style={plusBtnContainer} onClick= {() => {if (calcData.initialInvest != \"\"){ calcData.cashFlows.push(0); handleCashFlowChange()}} } >   \n      <circle style={plusButtonStyle} cx=\"50%\" cy=\"50%\" r=\"38%\"/>\n      <line style={plusLineStyle} x1=\"30%\" y1=\"50%\" x2=\"70%\" y2=\"50%\"/>    \n      <line style={plusLineStyle} x1=\"50%\" y1=\"70%\" x2=\"50%\" y2=\"30%\"/> \n    </svg>\n  ) \n}\n\n\n// function dollSymbol(value, color) {\n//   let numSize = .6; \n//   let numX = \"39%\";\n//   let numY = \"86%\";\n//   if (value > 9) {\n//     numSize= .5;\n//     numX = \"31%\"\n//     numY = \"85%\"\n//   }\n \n//   return(\n    \n//     <svg style={{position: \"absolute\", background: \"none\"}} height=\"2.6vw\" width=\"1.5vw\" >\n//       <text style={{fontSize: \"2.2vw\", fontWeight: \"400\", fill: color}} x=\"4%\" y=\"80%\">$</text>\n//       <circle style={{fill: color}} cx=\"52%\" cy=\"78%\" r=\"18%\"/>\n//       <text style={{fontSize: numSize + \"vw\", fontWeight: \"700\", fill: styles.innerCashBoxColor}} x={numX} y={numY}>{value}</text>\n//     </svg>\n    \n//   ) \n// }\nfunction snapNPVBtn() {\n  return (<Button style={{position: \"absolute\", width: \"10vw\", fontSize: \"1vw\", background: styles.gray, color: styles.lightCanvasColor, fontFamily: 'Fira Code', padding: 0, left: \"-.4vw\", width: \"10vw\", height: \"2vw\"}} variant=\"contained\"  onClick ={ () => {handleNPVSnap()}}  >PLOT ON GRAPH</Button>)\n  //return (<button style={snapNPVBtnStyle} name=\"npvsnap\" onClick ={ () => {calcData.npvSnap.push({x: calcData.r, y: calcData.theNPV }); calcData.snapGraphX++; setNpvRan(npvRan + 1); }}>FIND NPV</button>  )\n}\nfunction handleNPVSnap() {\n  if (calcData.initialInvest != \"\") {\n    calcData.npvSnap.unshift([calcData.r, calcData.theNPV]); \n    setNpvRan(npvRan + 1); \n  }\n}\n\n// function logNPV() {\n \n//   loggedNPVs.unshift(\n//     <div style = {histListContents}>\n//       <svg style={{ position: \"absolute\", background: \"none\"}} height=\"30%\" width=\"100%\">\n//         <text style={{ fontSize: \"1.2vw\" }} x=\"0\" y=\"70%\">{calcData.theNPV.toFixed(2)}</text>\n//         <text style={{ fontSize: \"1.2vw\" }} x=\"75%\" y=\"70%\">{calcData.r}%</text>\n//       </svg>\n//     </div>\n//     )\n// }\n\n\nfunction CashFlowContents() {\n  let dollColor = styles.negativeColor;\n \n\n  if (calcData.initialInvest === \"\") {\n    zeroCashInputStyle.fontSize = \".8vw\";\n  }\n  else if (calcData.initialInvest >= 0 && calcData.initialInvest != \"\") {\n    zeroCashInputStyle.fontSize = \"2vw\";\n    zeroCashInputStyle.color = styles.negativeColor;\n  }\n  else if (calcData.initialInvest < 0) {\n    zeroCashInputStyle.fontSize = \"2vw\";\n    zeroCashInputStyle.color = styles.positiveColor;\n    dollColor = styles.positiveColor;\n  }\n  let contents = [];\n\n      contents.push(\n        <div>\n          <div style={{position: \"absolute\", left: \"2%\", bottom: \"100%\"}}>{dollSymbol(0, dollColor)}</div>\n          <div style={negInitialInvStyle}>        \n            <input style={zeroCashInputStyle} placeholder=\"<Enter Initial Investment Here>\"  key={\"inINVhold\"}  type=\"text\" name ={\"initialInv\"} onChange={(event) => {calcData.initialInvest = event.target.value; handleCashFlowChange()}} />  \n          </div>\n          <div style={lineBreak}/>\n        </div>\n      )\n\n  \n\n  for (let value in calcData.cashFlows) {\n    if (calcData.cashFlows[value] < 0){\n      contents.push(\n        <div>\n          <div style={negCashContents}>\n            {minusButton(value)} \n            {dollSymbol(parseInt(value) + 1, styles.negativeColor)}  \n            <input style={negCashInputStyle} key={\"cashflow\" + value} value={calcData.cashFlows[value]} type=\"text\" name ={value + \"cashFlow\"} onChange={(event) => {calcData.cashFlows[value] = event.target.value; handleCashFlowChange()}} />  \n          </div>\n          <div style={lineBreak}/>\n        </div>\n        )\n\n    }\n    else {\n    contents.push(\n      <div>\n        <div style={cashContents} >\n          {minusButton(value)} \n          {dollSymbol(parseInt(value) + 1, styles.positiveColor)}   \n          <input style={cashInputStyle} key={\"cashflow\" + value} value={calcData.cashFlows[value]} type=\"text\" name ={value + \"cashFlow\"} onChange={(event) => {calcData.cashFlows[value] = event.target.value; handleCashFlowChange()}} />  \n        </div>\n        <div style={lineBreak}/>\n      </div>\n      )\n    }\n  }\n \n  return (contents)\n}\nfunction DiscountRateSlider() {\n  return(\n    <input type=\"range\" min=\"0\" max=\"100\" step=\"1\"  style={sliderStyle} name =\"ROR\" onChange={(event) => {calcData.r = event.target.value; calcData.discountFactor = rndNearTenth(1/ (1 + (calcData.r/100))); findNPV(calcData.cashFlows, calcData.r, calcData.initialInvest)}} />\n  )   \n}\n\n\n\nreturn (\n  <div style={calcCanvas}>\n    <div style={arrow1Style}>{arrow()}</div>\n    <p style={calcTitle}>NET PRESENT VALUE CALCULATOR</p>\n    <div style={cashFlowBox}><p style={header1}>CASH FLOWS</p>\n      <div style={innerCashBox}>{CashFlowContents()}</div>\n      <div style={cashBottom}>{cashFlowPlusBtn()}</div>\n      <p style={cashBtmTxt}>Add another</p>\n    </div>\n\n    <div style={dRateBox}>\n      <p style={DRateText}>DISCOUNT RATE: {calcData.r}%</p>\n      \n      <p style={DFactorText}>DISCOUNT FACTOR: {calcData.discountFactor}</p>\n      {DiscountRateSlider()}\n    </div>\n\n    <div style={sketchBox}>\n      <p style={header1}>ADJUSTED CASH FLOWS</p>\n      <Sketch/>\n    </div>\n    \n    <div style={NpvStatBox}><p style={header1}>NET PRESENT VALUE</p>  \n      <p style={NPVHeader}>{calcData.theNPV}</p>     \n      <div style={snapButtonPos}>{snapNPVBtn()}</div>\n    </div>\n\n    <div style ={graphBox}>\n      <p style={header1}>DISCOUNT RATE V. NPV</p> \n      <Graph/>\n    </div>\n\n    <div style ={InstructionBox}>{instructionText()}</div>\n\n    \n    \n  </div>\n)\n\n  function findNPV(cashFlows, r, initialInvestValue) {\n    //push r value to interface \n   \n    //ensures DOM will update even if npv didnt change\n    setNpvRan(npvRan + 1);\n    \n  \n    calcData.initialInvest = initialInvestValue;\n    let npvOut = null;\n    let rDec = r/100;\n    let npv = null;\n    //reset modded cash flows\n    calcData.modCashFlows = [];\n    calcData.modCashFlows.push(calcData.initialInvest * -1);\n    for (let flow in cashFlows) {\n     let powerOf=parseInt(flow) +  1;\n     let discountedFlow = cashFlows[flow] / Math.pow(1 + rDec,  powerOf);\n     calcData.modCashFlows.push(discountedFlow);\n     npv += discountedFlow;\n    }\n   \n    npvOut =  Math.round((npv - calcData.initialInvest) * 100) / 100;\n    calcData.theNPV = npvOut.toFixed(2);\n    \n    //return (npvOut);\n  }\n  //{calcData.cashFlows.map((number) => <li key ={number.toString()}>{number}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n} \n\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}